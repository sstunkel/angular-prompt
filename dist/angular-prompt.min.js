angular.module("cgPrompt",["ui.bootstrap"]);angular.module("cgPrompt").factory("prompt",["$uibModal","$q",function(b,c){var a=function(d){var f={title:"",message:"",input:false,label:"",value:"",values:false,buttons:[{label:"Cancel",cancel:true},{label:"OK",primary:true}]};if(d===undefined){d={}}for(var e in f){if(d[e]===undefined){d[e]=f[e]}}var g=c.defer();b.open({templateUrl:"angular-prompt.html",controller:"cgPromptCtrl",resolve:{options:function(){return d}}}).result.then(function(h){if(d.input){g.resolve(h.input)}else{g.resolve(h.button)}},function(){g.reject()});return g.promise};return a}]);angular.module("cgPrompt").controller("cgPromptCtrl",["$scope","options","$timeout",function(a,b,c){a.input={name:b.value};a.options=b;a.buttonClicked=function(d){if(d.cancel){a.$dismiss();return}if(b.input&&angular.element(document.querySelector("#cgPromptForm")).scope().cgPromptForm.$invalid){a.changed=true;return}a.$close({button:d,input:a.input.name})};a.submit=function(){var d;angular.forEach(a.options.buttons,function(e){if(e.primary){d=e}});if(d){a.buttonClicked(d)}};c(function(){var d=document.querySelector("#cgPromptInput");if(d){if(d.select){d.select()}if(d.focus){d.focus()}}},100)}]);angular.module("cgPrompt").run(["$templateCache",function(a){a.put("angular-prompt.html",'<div>\n    <div class="modal-header">\n        <button type="button" class="close pull-right" ng-click="$dismiss()" aria-hidden="true">Ã—</button>\n        <h4 class="modal-title">{{options.title}}</h4>\n    </div>\n    <div class="modal-body">\n\n        <p ng-if="options.message">\n            {{options.message}}\n        </p>\n\n        <form id="cgPromptForm" name="cgPromptForm" ng-if="options.input" ng-submit="submit()">\n            <div class="form-group" ng-class="{\'has-error\':cgPromptForm.$invalid && changed}">\n                <label for="cgPromptInput">{{options.label}}</label>\n                <input id="cgPromptInput" type="text" class="form-control"  placeholder="{{options.label}}" ng-model="input.name" required ng-change="changed=true" ng-if="!options.values || options.values.length === 0"/ autofocus="autofocus">\n                <div class="input-group" ng-if="options.values">\n                    <input id="cgPromptInput" type="text" class="form-control" placeholder="{{options.label}}" ng-model="input.name" required ng-change="changed=true" autofocus="autofocus"/>\n\n                    <div class="input-group-btn" dropdown>\n                        <button type="button" class="btn btn-default dropdown-toggle" dropdown-toggle data-toggle="dropdown"><span class="caret"></span></button>\n                        <ul class="dropdown-menu pull-right">\n                            <li ng-repeat="value in options.values"><a href="" ng-click="input.name = value">{{value}}</a></li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n         </form>\n\n    </div>\n    <div class="modal-footer">\n        <button ng-repeat="button in options.buttons track by button.label" class="btn btn-default {{button.class}}" ng-class="{\'btn-primary\':button.primary}" ng-click="buttonClicked(button)">{{button.label}}</button>\n    </div>\n</div>')}]);